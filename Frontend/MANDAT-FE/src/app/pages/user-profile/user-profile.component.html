<div class="header-section">
  <div class="profile-card">
    <div class="details">
      <div class="name-surname">
        <span class="value">{{
          userAccountWithAddress.username | titlecase
        }}</span>
      </div>

      <div class="city"
        >{{ "City: " | titlecase }}
        <span class="value">{{ userAccountWithAddress.city | titlecase }}</span>
      </div>

      <div
        *ngIf="roles.isMentor(rol)"
        class="courses"
        [style.display]="
          userAccountWithAddress.subject === null ? 'none' : 'flex'
        ">
        <div>{{ "Courses: " | titlecase }}</div>
        <span class="courses-list">
          <ng-container *ngFor="let sub of userAccountWithAddress.subject">
            <li class="value">{{ sub | titlecase }}</li>
          </ng-container>
        </span>
      </div>

      <div class="stars">
        {{ "Stars" | titlecase }}
      </div>

      <div class="rating">
        <span
          [ngClass]="rating !== undefined && rating >= 1 ? 'yellow' : 'gray'"
          >â˜…</span
        >
        <span
          [ngClass]="rating !== undefined && rating >= 2 ? 'yellow' : 'gray'"
          >â˜…</span
        >
        <span
          [ngClass]="rating !== undefined && rating >= 3 ? 'yellow' : 'gray'"
          >â˜…</span
        >
        <span
          [ngClass]="rating !== undefined && rating >= 4 ? 'yellow' : 'gray'"
          >â˜…</span
        >
        <span
          [ngClass]="rating !== undefined && rating >= 5 ? 'yellow' : 'gray'"
          >â˜…</span
        >
      </div>
    </div>
  </div>
  <div class="menu-box" *ngIf="isPersonalProfile">
    <ng-container *ngIf="roles.isMentor(rol)">
      <a routerLink="/settings">{{ "Settings" | titlecase }}</a> 
      <a routerLink="/video-meeting">{{ "Video Link" | titlecase }}</a>
      <a routerLink="/my-students">{{ "My Students" | titlecase }}</a>
      <a routerLink="/my-announcements">{{ "My Announcements" | titlecase }}</a>
      <a routerLink="/video-mentor">{{ "Add Video" | titlecase }}</a>
      <a
        routerLink="/requests"
        [ngClass]="notifications > 0 ? 'notifications' : ''"
        >{{ "Notifications" | titlecase }}</a
      >
    </ng-container>
    <ng-container *ngIf="roles.isStudent(rol)">
      <a routerLink="/settings">{{ "Settings" | titlecase }}</a> 
      <a routerLink="/my-mentors">{{ "My Teachers" | titlecase }}</a>
      <a routerLink="/match">{{ "Find a Teacher" | titlecase }}</a> 
      <a routerLink="/videos-student">{{ "Watch Videos" | titlecase }}</a>

    </ng-container>
  </div>
</div>

<div class="more-about-me">
  <h1>{{ "ðŸ”¥ More About Me: ðŸ‘‹" | titlecase }}</h1>

  <div class="studies">
    <h2>{{ "Studies:" | titlecase }} </h2>
    <p>{{ userAccountWithAddress.educationalInstitution }}</p>
  </div>

  <div class="bio">
    <h2>{{ "Bio:" | titlecase }} </h2>
    <p>{{ userAccountWithAddress.bio }}</p>
  </div>
</div>

<div *ngIf="!isPersonalProfile" style="height: 20%; width: 90%;">

  <div *ngIf="rol === 'mentor' && justViewProfile" style="background-color:  rgb(232, 230, 230);border: 3px solid rgb(21, 142, 217); padding: 10px; border-radius: 10px;">
    <h2  style="text-align: center; text-decoration: underline;">Students Reviews for {{userAccountWithAddress.username | titlecase
    }}</h2>
    <div>
      <table class="table">
        <thead>
          <tr>
            <th>Student Name</th>
            <th>Message</th>
            <th>Stars</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let review of reviewsMentor">
            <td>{{ review.studentName | titlecase }}</td>
            <td>{{ review.message }}</td>
            <td>{{ review.starsNumber }}/5</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div *ngIf="rol === 'student' && justViewProfile"style="background-color:  rgb(232, 230, 230);border: 3px solid rgb(21, 142, 217); padding: 10px; border-radius: 10px;">
    <h2 style="text-align: center; text-decoration: underline;">Mentors Reviews for {{userAccountWithAddress.username | titlecase
    }}</h2>
    <div>
      <table class="table">
        <thead>
          <tr>
            <th>Mentor Name</th>
            <th>Message</th>
            <th>Stars</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let review of reviews">
            <td>{{ review.mentorName | titlecase}}</td>
            <td>{{ review.message }}</td>
            <td>{{ review.starsNumber }}/5</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

<div *ngIf="isPersonalProfile" style="height: 20%; width: 90%;">

  <div *ngIf="rol === 'mentor'" style="background-color:  rgb(232, 230, 230);border: 3px solid rgb(21, 142, 217); padding: 10px; border-radius: 10px;">
    <h2  style="text-align: center; text-decoration: underline;">Students Reviews for {{userAccountWithAddress.username | titlecase
    }}</h2>
    <div>
      <table class="table">
        <thead>
          <tr>
            <th>Student Name</th>
            <th>Message</th>
            <th>Stars</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let review of reviewsMentor">
            <td>{{ review.studentName | titlecase }}</td>
            <td>{{ review.message }}</td>
            <td>{{ review.starsNumber }}/5</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div *ngIf="rol === 'student'"style="background-color:  rgb(232, 230, 230);border: 3px solid rgb(21, 142, 217); padding: 10px; border-radius: 10px;">
    <h2 style="text-align: center; text-decoration: underline;">Mentors Reviews for {{userAccountWithAddress.username | titlecase
    }}</h2>
    <div>
      <table class="table">
        <thead>
          <tr>
            <th>Mentor Name</th>
            <th>Message</th>
            <th>Stars</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let review of reviews">
            <td>{{ review.mentorName | titlecase}}</td>
            <td>{{ review.message }}</td>
            <td>{{ review.starsNumber }}/5</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>



<div
  class="requests-chart"
  *ngIf="
    roles.isMentor(rol) && requests.length !== 0 && parameterEmail === ''
  ">
  <div id="chart" *ngIf="chartOptions !== undefined">
    <apx-chart
      [series]="chartOptions.series"
      [chart]="chartOptions.chart"
      [labels]="chartOptions.labels"
      [responsive]="chartOptions.responsive"></apx-chart>
  </div>
</div>
